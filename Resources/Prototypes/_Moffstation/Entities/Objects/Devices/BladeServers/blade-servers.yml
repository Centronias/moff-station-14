- type: entity
  abstract: true
  id: ConstructibleBladeServer
  parent: BaseItem
  components:
  - type: BladeServer
  - type: ContainerContainer
    containers:
      machine_board: !type:Container
      machine_parts: !type:Container
  - type: Construction
    graph: BladeServer
    node: bladeServer
    containers:
    - machine_parts
    - machine_board

- type: entity
  id: ResearchAndDevelopmentBladeServer
  parent: [ BaseResearchAndDevelopmentServer, ConstructibleBladeServer ]
  name: R&D blade server
  description: Contains the collective knowledge of the station's scientists. Destroying it would send them back to the stone age. You don't want that do you?
  components:
  - type: BladeServer
    board: ResearchAndDevelopmentServerMachineCircuitboard
    stripeColor: "#A331B9FF"
  - type: Sprite
    sprite: _Moffstation/Structures/Machines/blade_server.rsi
    layers:
    - state: frame
    - state: stripe
      visible: false
      map: [ "enum.BladeServerVisuals.StripeLayer" ]
    - state: cover
    - state: powered
      visible: false
      shader: unshaded
      map: [ "enum.PowerDeviceVisualLayers.Powered" ]
    - state: maintenance-panel
      visible: false
      map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
  - type: Item
  - type: ResearchServer
  - type: TechnologyDatabase
    supportedDisciplines:
    - Industrial
    - Arsenal
    - Experimental
    - CivilianServices
  - type: ApcPowerReceiver
    powerLoad: 200
  - type: ExtensionCableReceiver
  - type: InnerCableReceiver
  - type: WiresPanel
  - type: WiresVisuals
  - type: Machine
    board: ResearchAndDevelopmentServerMachineCircuitboard
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 600
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
    - trigger:
        !type:DamageTrigger
        damage: 300
      behaviors:
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:SpawnEntitiesBehavior
        spawn:
          SheetSteel1:
            min: 1
            max: 2
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.PowerDeviceVisuals.Powered:
        enum.PowerDeviceVisualLayers.Powered:
          True: { visible: true }
          False: { visible: false }
  - type: GuideHelp
    guides:
    - Science
